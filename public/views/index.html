<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Register</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/register.css" />
  </head>

  <body>

    <div id="fb-root"></div>




    <form action="/register" method="post">
      <div id="reg-form">
        <h2 style="padding-left:1em; ">Login</h2>
        <hr />
        <table id="registration-form">
          <tr>
            <td>
              <div class="fb-login-button" data-width="200" data-max-rows="1" data-size="large"
               data-button-type="login_with" data-show-faces="false" data-auto-logout-link="false" data-use-continue-as="false"></div>
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <label class="user-label">username</label>
              <input class="form-control cridentials" type="text" name="username" id="username" minlength="6" placeholder="username" required />
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <label class="user-label">password</label>
              <input class="form-control cridentials" type="password" name="password" id="password" minlength="6" placeholder="password" required />
            </td>
          </tr>
          <tr>
            <td>
              <input type="submit" class="btn btn-primary btn-lg" value="register" />
            </td>
          </tr>
        </table>
      </div>
    </form>




    <script>
      window.fbAsyncInit = function() {
        FB.init({
          appId      : '121349778515503',
          cookie     : true,
          xfbml      : true,
          version    : 'v2.8'
        });
        FB.getLoginStatus(function(response) {
            statusChangeCallback(response);
        });
      };

      (function(d, s, id){
         var js, fjs = d.getElementsByTagName(s)[0];
         if (d.getElementById(id)) {return;}
         js = d.createElement(s); js.id = id;
         js.src = "//connect.facebook.net/en_US/sdk.js";
         fjs.parentNode.insertBefore(js, fjs);
       }(document, 'script', 'facebook-jssdk'));

       function statusChangeCallback(response){
         if(response.status === 'connected'){
           console.log('Logged in and authenticated');
           testAPI();
         }else{
           console.log('Not authenticated');
         }
       }


      function checkLoginState() {
        FB.getLoginStatus(function(response) {
          statusChangeCallback(response);
        });
      }

      function testAPI(){
        FB.api('/me?field=name,user_birthday', function(response){
          if(response && !response.error){
            console.log(response);
          }
        });
      }

      function logout(){
        FB.logout(function(response){
          console.log(response);
        });
      }
    </script>

    <script>(function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return;
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10&appId=121349778515503";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>

  </body>
</html>
